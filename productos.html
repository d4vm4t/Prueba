<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Aurora — Productos</title>
    <meta name="description" content="Descubre nuestros cafés de especialidad: origen único, mezclas y ediciones limitadas." />
    <style>
      :root {
        --bg: #0f1221;
        --text: #e8eaf7;
        --muted: #b8bcdf;
        --primary: #8b5cf6;
        --primary-2: #22d3ee;
        --shadow: 0 10px 30px rgba(0,0,0,.35);
      }
      * { box-sizing: border-box; }
      html, body { height: 100%; }
      body {
        margin: 0; color: var(--text);
        background:
          radial-gradient(1200px 600px at 10% -10%, rgba(34, 211, 238, .12), transparent 60%),
          radial-gradient(1200px 600px at 110% 10%, rgba(139, 92, 246, .12), transparent 60%),
          linear-gradient(180deg, #0c1020 0%, #0a0d1a 100%);
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
        -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
      }
      .container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }
      header { position: sticky; top: 0; z-index: 10; backdrop-filter: saturate(120%) blur(10px); background: linear-gradient(180deg, rgba(10,13,26,.85), rgba(10,13,26,.55)); border-bottom: 1px solid rgba(255,255,255,.06); }
      .nav { display: flex; align-items: center; justify-content: space-between; height: 64px; }
      .brand { display: flex; align-items: center; gap: 10px; font-weight: 700; }
      .logo { width: 28px; height: 28px; border-radius: 8px; background: conic-gradient(from 210deg, var(--primary), var(--primary-2), var(--primary)); box-shadow: inset 0 0 0 2px rgba(255,255,255,.12), 0 6px 20px rgba(34, 211, 238, .25); }
      nav a { color: var(--muted); text-decoration: none; margin: 0 10px; font-size: 14px; }
      nav a:hover, nav a.active { color: var(--text); }
      .btn { display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 10px 16px; border-radius: 10px; border: 1px solid rgba(255,255,255,.1); color: var(--text); text-decoration: none; font-weight: 600; background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01)); }
      .btn.primary { background: linear-gradient(135deg, var(--primary) 0%, var(--primary-2) 100%); color: #08101a; border: none; box-shadow: var(--shadow); }

      .page { padding: 40px 0 24px; }
      h1 { margin: 8px 0 6px; font-size: clamp(26px, 4vw, 38px); }
      p.lead { color: var(--muted); max-width: 60ch; }

      .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 18px; margin: 22px 0 60px; }
      .card { border: 1px solid rgba(255,255,255,.08); border-radius: 16px; overflow: hidden; background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02)); box-shadow: var(--shadow); display: flex; flex-direction: column; }
      .media { aspect-ratio: 4/3; background:
          radial-gradient(180px 90px at 60% 25%, rgba(255,255,255,.12), transparent 60%),
          radial-gradient(240px 120px at 30% 60%, rgba(139, 92, 246, .18), transparent 60%),
          radial-gradient(200px 100px at 80% 70%, rgba(34, 211, 238, .18), transparent 60%),
          linear-gradient(180deg, #11142a, #0e1226);
      }
      .content { padding: 14px 16px; display: grid; gap: 6px; }
      .meta { color: var(--muted); font-size: 14px; }
      .price { font-weight: 700; }
      .actions { display: flex; gap: 10px; padding: 0 16px 16px; }

      footer { padding: 28px 0 38px; color: var(--muted); border-top: 1px solid rgba(255,255,255,.06); }
      .foot { display: flex; flex-wrap: wrap; align-items: center; justify-content: space-between; gap: 12px; }

      @media (max-width: 900px) { .grid { grid-template-columns: 1fr; } }
      @media (prefers-color-scheme: light) { :root { --text: #0c1020; --muted: #4b4f6b; } body { background: linear-gradient(180deg, #f7f8ff 0%, #eef1ff 100%); } }
    </style>
  </head>
  <body>
    <header>
      <div class="container nav">
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <span>Aurora Café</span>
        </div>
        <nav aria-label="Primaria">
          <a href="index.html#inicio">Inicio</a>
          <a href="productos.html" class="active">Productos</a>
          <a href="index.html#origen">Origen</a>
          <a href="index.html#calidad">Calidad</a>
          <a href="suscripcion.html">Suscripción</a>
        </nav>
        <a class="btn primary" href="carrito.html">Carrito <span data-cart-count></span></a>
      </div>
    </header>

    <main class="container page">
      <h1>Nuestros cafés</h1>
      <p class="lead">Explora orígenes únicos y mezclas pensadas para distintos métodos. Todos los lotes se tuestan cada viernes para garantizar frescura.</p>

      <section class="grid" aria-label="Listado de productos" id="listado"></section>
    </main>

    <footer>
      <div class="container foot">
        <p>© <span id="year"></span> Aurora Café — Hecho con cariño y cafeína</p>
        <div>
          <a href="#" style="color:inherit; text-decoration:none; margin-right:10px">Privacidad</a>
          <a href="#" style="color:inherit; text-decoration:none">Términos</a>
        </div>
      </div>
    </footer>

    <script>
      const y = document.getElementById('year'); if (y) y.textContent = new Date().getFullYear();

      function getCart() { return JSON.parse(localStorage.getItem('aurora_cart') || '{}'); }
      function setCart(cart) { localStorage.setItem('aurora_cart', JSON.stringify(cart)); updateCartCount(); }
      function updateCartCount() {
        const cart = getCart();
        const count = Object.values(cart).reduce((a, b) => a + b.cantidad, 0);
        document.querySelectorAll('[data-cart-count]').forEach(el => el.textContent = count ? `(${count})` : '');
      }

      async function cargarProductos() {
        const res = await fetch('data/productos.json');
        const productos = await res.json();
        const cont = document.getElementById('listado');
        cont.innerHTML = productos.map(p => {
          const meta = `${p.notas} • ${p.proceso} • ${p.puntaje} pts`;
          return `
            <article class="card">
              <div class="media" aria-hidden="true"></div>
              <div class="content">
                <h3>${p.nombre}</h3>
                <div class="meta">${meta}</div>
                <div class="price">250g — $${p.precio.toFixed(2)}</div>
              </div>
              <div class="actions">
                <button class="btn primary" data-add="${p.id}">Añadir</button>
                <button class="btn" disabled>Detalles</button>
              </div>
            </article>`;
        }).join('');

        cont.querySelectorAll('[data-add]').forEach(btn => {
          btn.addEventListener('click', () => {
            const id = btn.getAttribute('data-add');
            const prod = productos.find(x => x.id === id);
            const cart = getCart();
            if (!cart[id]) cart[id] = { id: prod.id, nombre: prod.nombre, precio: prod.precio, cantidad: 0 };
            cart[id].cantidad += 1;
            setCart(cart);
            btn.textContent = 'Añadido ✓';
            setTimeout(() => (btn.textContent = 'Añadir'), 900);
          });
        });
      }

      updateCartCount();
      cargarProductos().catch(console.error);
    </script>
  </body>
  </html>


